<!DOCTYPE html>
<html lang="pt-br">
<head>
	<title>Trabalho IMC</title>
	<meta charset="utf-8">
	<!-- Bootstrap  CSS-->
	<link rel="stylesheet" href="./bootstrap/css/bootstrap.min.css" >
    <link rel="stylesheet" href="./fontawesome/css/brands.css" >
    <link rel="stylesheet" href="./fontawesome/css/fontawesome.css" >
    <link rel="stylesheet" href="./fontawesome/css/solid.css" >

    <!--Fonts-->
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@700&display=swap" rel="stylesheet">

    <style type="text/css">
    	footer{

    		text-align: center;
    		font-family: 'Cormorant Garamond', serif;


    	}
    	#dev{
    		background: #a7a6a6;
    	}

    </style>

</head>

<body>
	<div class="container mt-5">		
	
		<table class="table table-striped">
			<thead>
				<tr>
					<th>Nome</th>
					<th>Sexo</th>
					<th>Altura</th>
					<th>Peso</th>
					<th>IMC</th>
				</tr>
			</thead>
			<tbody id="tabela">
				
			</tbody>
			
		</table>
	</div>
	<div class="fixed-bottom mb-5 mr-5">
		<div class="float-right">
			<button type="button" data-toggle="modal" data-target="#modalAdd" class="btn btn-outline-success rounded-circle" >
				<i class="fas fa-user-plus"></i>
			</button>
		</div>
	</div>

	<!-- Modal -->
	<div class="modal fade" id="modalAdd" tabindex="-1" aria-labelledby="examplemodalAdd" aria-hidden="true">
	  <div class="modal-dialog">
	    <div class="modal-content">
	      <div class="modal-header">
	        <h5 class="modal-title" id="examplemodalAdd">Cálculo IMC</h5>
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
	          <span aria-hidden="true">&times;</span>
	        </button>
	      </div>
	      <div class="modal-body">
	        <div class="row ml-4">
	        	<div class="form-group col-sm-10">
	        		<label for="nome">Nome</label>
	        		<input type="text" class="form-control" step="any" name="nome" id="nome">
	        	</div>
	        	<div class="form-group col-sm-10" >
	        		<label for="sexo">Sexo</label>
	        		<select class="form-control" id="sexo">
	        			<option value="">Escolha seu sexo</option>
	        			<option value="masculino">Masculino</option>
	        			<option value="feminino">Feminino</option>
	        		</select>	
	        		
	        	</div>
	        	<div class="form-group col-sm-10">
	        		<label for="altura">Altura</label>
	        		<input type="number" id="altura" class="form-control" step="2" name="Altura">
	        	</div>
	        	<div class="form-group col-sm-10">
	        		<label for="peso">Peso</label>
	        		<input type="number" class="form-control" step="2" name="peso" id="peso">
	        	</div>
	        	<div class="form-group col-sm-10">
	        		<label for="imc">Seu IMC</label>
	        		<input type="number" class="form-control" id="imc" step="2"  name="imc" readonly>
	        	</div>

	        </div>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
	        <button type="button" class="btn btn-primary" id="salvar" >Salvar</button>
	      </div>
	    </div>
	  </div>
	</div>

	<!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="./jquery/jquery-3.5.1.min.js" ></script>
    <script src="./popper/popper.min.js" ></script>
    <script src="./bootstrap/js/bootstrap.min.js" ></script>

    <script>
    	const tabela=document.getElementById('tabela');
    	const nome=document.getElementById('nome');
    	const sexo=document.getElementById('sexo');
    	const altura=document.getElementById('altura');
    	const peso=document.getElementById('peso');
    	const imc=document.getElementById('imc');

    	function calcula(){
    		let altQuad=altura.value*altura.value;
    		let imc2=peso.value/altQuad;
    		imc.value=imc2;
    	}

    	altura.addEventListener('input',()=>{
    		calcula()
    	})
    	peso.addEventListener('input',()=>{
    		calcula()
    	})

    	salvar.addEventListener('click',()=>{

    		const tr=document.createElement('tr');
    		let td=`<td>${nome.value}</td>
    		<td>${sexo.value}</td>
    		<td>${altura.value}</td>
    		<td>${peso.value}</td>
    		<td>${imc.value}</td>`;

    		tr.innerHTML=td;
    		tabela.appendChild(tr);

    		nome.value=null;
    		sexo.value=null;
    		altura.value=null;
    		peso.value=null;
    		imc.value=null;

    		$('#modalAdd').modal('hide');
    	})

    </script>
</body>
<footer>
	<div class="fixed-bottom " id="dev">
		<h3>Desenvolvido por: Luiz Fernando Silva Galvão </h3>

	</div>
	
</footer>
</html>